# ESAEBSAD2
A Discord bot used by the Official FTB Wiki (mostly me) to accomplish various automated tasks. Kind of experimental as of right now. This is a recreation of [the original ESAEBSAD](https://github.com/xbony2/Experimental-Self-Aware-Electronic-Based-Space-Analyzing-Droid).

## E-say-bee-what?
It's pronounced /i.ˈseɪ.bi.sæd.tu/ (e-say-b-sad-two). It stands for **E**xperimental **S**elf **A**ware **E**lectronic **B**ased **S**pace **A**nalyzing **D**roid [in the] **2**nd-Dimension. Unfortunately, because the bot is stuck in the second dimension, it can't analyze space very well, so instead it just does random tasks that I want it to. Mostly this is just find-replace operations and things like that.

## Setup
A [Discord application token](https://discordapp.com/developers/applications) should already be generated, and a [bot login and password](https://ftb.gamepedia.com/Special:BotPasswords) should be generated (assuming you are using Gamepedia; if another service is used, it's probably just the username and password for the wikiLogin and wikiToken).

A `gradle.properties` file must be created with the following properties:
* `discordToken`: the Discord bot account's token.
* `wikiLogin`: the wiki bot's login. This is NOT the same as the bot's username on Gamepedia. This is viewable on [Special:BotPasswords](https://ftb.gamepedia.com/Special:BotPasswords).
* `wikiToken`: the wiki bot's token. This is generated by [Special:BotPasswords](https://ftb.gamepedia.com/Special:BotPasswords). Note when generated, it cannot be viewed again, so make sure to put it in the properties file so it isn't lost. If forgotten a new bot password can be created but then you have to update everything.

An `example_gradle.properties` will show an example of this configuration (without the confidential information, of course).

After configured, the commands `gradlew build` will compile the code and grab all of the necessary libraries, and `gradlew run` will run the bot. If the code is compiled, it doesn't need to be re-compiled, but if changes are made to the code, then it needs to be re-compiled.

For development, I have an Eclipse run configuration that is a Gradle task of the tasks `build` and `run`.

## Usage
Just run the command `!help` and it will list all of the commands and how to use them. ezpz.

## Dependencies
Gradle takes care of all of the dependencies so you don't need to worry about them, but here's what libraries this bot uses:
* [Groovy](http://groovy-lang.org/)
* [Java Discord API 3 (aka JDA3)](https://github.com/DV8FromTheWorld/JDA) (not JDA 4, since the next library doesn't support it yet)
* [sdcf4j](https://github.com/Bastian/sdcf4j) (the core and the JDA3 library)
* [jwiki](https://github.com/fastily/jwiki)

## TODOs
* A [find-replace command](https://github.com/xbony2/Experimental-Self-Aware-Electronic-Based-Space-Analyzing-Droid/blob/master/lib/esaebsad/plugins/commands/findreplace.rb) (or commands)
* Based on the above, perhaps commands to help do disambiguation, category renames, link renames, etc. I had some of this in the original ESAEBSAD but I didn't use it much so I don't know if they really worked.
* WIP: A date of last article made command, with Retep998 being the default argument (lol).
* WIP: Logging of actions that allows commands to be undone with an undo command/commands.
** WIP: ListActionsDoneCommand
** WIP: UndoActionByID
** ListActionsDoneByCommandCommand
** UndoActionsByIDs
* Use Groovy's `metaClass` (mixin) features to add a `createPage` method to `Wiki`. Currently creating a new page goes through the `edit` method, so it won't error if the "creation" just edits a currently existing page. Also maybe other cheats I can do with mixins.
